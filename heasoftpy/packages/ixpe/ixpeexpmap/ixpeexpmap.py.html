<html>
<head>
<style type="text/css">
    body { margin-left: 5%; margin-right: 5%; }
    h1,h2,h3,h4 { margin-left: -5%;}
</style>    
<title>ixpeexpmap help file</title>
</head>

<body>

<h2>NAME</h2>
ixpeexpmap -- Creates an exposure map in J2000 tangent-plane coordinates from the aspect solution data in the Level 1 housekeeping data.
<h2>USAGE</h2>
<tt>ixpeexpmap.py infile gti outfile [graypix] [teldef] [badpix] [pntmap] [pntname] [clobber]</tt>
<h2>DESCRIPTION</h2> 
ixpeexpmap selects the J2000 tangent-plane positions of the pointing direction from a Level 1 Attitude file (infile) for all the valid rows within Good Time Intervals read from a GTI file (gti) to create a pointing map (pntmap; default=false, if pntmap=true then the pointing map will be placed in an output file given by the parameter pntname).
<p>The pointing map contains standard sky tangent-plane X, Y coordinates with the value at each coordinate given by the exposure time in seconds. ixpeexpmap then calculates a valid pixel map to be convolved with the pointing map to create the final exposure map. The valid pixel map flags bad pixels and ‘gray’ pixels (if graypix=true) from a bad pixel map (badpix). ixpeexpmap then convolves these two maps to build the final exposure map (outfile) using the appropriate rotations, offsets, and pixel-to-sky scalings (as given in the file teldef) necessary to convert raw pixels to sky coordinates. Exposure maps for multiple detectors can be co-added as differences in orientation and offset due to relative telescope pointing have already been accounted for.

<h2>PARAMETERS</h2>
<dl>

<dt>infile* (str)</dt>
<dd> Input FITS Attitude file.</dd>
<p>
<dt>gti* (str)</dt>
<dd> Good Time Interval FITS file .</dd>
<p>
<dt>outfile* (str)</dt>
<dd> Output exposure map file name.</dd>
<p>
<dt>exc_graypix</dt>
<dd> Exclude gray pixels from exposure? (default: no)</dd>
<p>
<dt>teldef</dt>
<dd> Path to the teldef CALDB file (default: -)</dd>
<p>
<dt>badpix</dt>
<dd> Path to the badpix CALDB file (default: -)</dd>
<p>
<dt>pntmap</dt>
<dd> Output a skymap of the detector centers? (default: no)</dd>
<p>
<dt>pntname</dt>
<dd> Output exposure map file name (default: -)</dd>
<p>
<dt>clobber</dt>
<dd> Overwrite existing output file? (default: no)</dd>
<p>
<dt>use_corr</dt>
<dd> Use TXYDZ_CORR column for detector pointing centers? (default: no)</dd>

</dl>

<h2>EXAMPLES</h2>
<ol>
</ol>
<h2>BUGS</h2>
<h2>SEE ALSO</h2>
<h2>LAST MODIFIED</h2>
Feb 2022
</body>
</html>
