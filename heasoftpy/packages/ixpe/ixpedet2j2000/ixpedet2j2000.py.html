<html>
<head>
<style type="text/css">
    body { margin-left: 5%; margin-right: 5%; }
    h1,h2,h3,h4 { margin-left: -5%;}
</style>    
<title>ixpedet2j2000 help file</title>
</head>

<body>

<h2>NAME</h2>
ixpedet2j2000 -- Transforms IXPE event positions and Stokes parameters from detector to sky coordinates.
<h2>USAGE</h2>
<tt>ixpedet2j2000.py infile outfile attitude [teldef] [sc] [clobber]</tt>
<h2>DESCRIPTION</h2> 
ixpedet2j2000 converts DETX, DETY detector coordinates and Stokes parameters DETQ and DETU of events contained in an existing Level 1 IXPE event FITS file (infile) to X, Y sky coordinates and Q, U oriented along declination (+Q) and position angle (+U along position angle +45 degrees) and adds these new columns, along with all original Level 1 event file columns, to a new FITS file (outfile). Optionally, event positions in spacecraft coordinates can also be added to the output event FITS file (sc=true).
<p>ixpedet2j2000 uses the event time stamp from the Level 1 event list and the rotation quaternions from a Level 1 attitude file (attitude) to perform this transformation. The quaternions are calculated by combining time-independent quaternions representing detector frame to the focal plane frame, focal plane frame to the spacecraft frame, and spacecraft frame to star tracker optical head with the time-varying quaternions produced by the star tracker, which rotate from the star tracker optical head frame to the J2000 sky frame. The latter quaternions are generated at a rate of 10 Hz. The transformation quaternion is found by linearly interpolating between the two attitude solutions which bracket the event time component-by-component.

<h2>PARAMETERS</h2>
<dl>

<dt>infile* (str)</dt>
<dd>  Input FITS Event file.</dd>
<p>
<dt>outfile* (str)</dt>
<dd>  Output file name.</dd>
<p>
<dt>attitude* (str)</dt>
<dd>  FITS Attitude file corresponding to input Event file.</dd>
<p>
<dt>teldef</dt>
<dd> Path to the teldef CALDB file (default: -)</dd>
<p>
<dt>sc</dt>
<dd> Append column of event locations in spacecraft coordinates? (default: no)</dd>
<p>
<dt>clobber</dt>
<dd> Overwrite existing output file? (default: no)</dd>

</dl>

<h2>EXAMPLES</h2>
<ol>
</ol>
<h2>BUGS</h2>
<h2>SEE ALSO</h2>
<h2>LAST MODIFIED</h2>
Feb 2022
</body>
</html>

